###############################################################################
# Exia Ground Robot - Ackermann Drive Controller Configuration
#
# Three-Motor Architecture:
#   1. Steering Controller - Front wheel steering (position control)
#   2. Throttle Controller - Rear wheel drive (velocity control)
#   3. Brake Controller    - Brake actuator (position control)
#
# HAL Compatibility:
#   - Simulation: Uses gz_ros2_control with ForwardCommandController
#   - Hardware:   Same ROS interface, different hardware_interface plugin
###############################################################################

controller_manager:
  ros__parameters:
    update_rate: 100  # Hz

###############################################################################
# Joint State Broadcaster Configuration
###############################################################################
joint_state_broadcaster:
  ros__parameters:
    type: joint_state_broadcaster/JointStateBroadcaster
    publish_rate: 50.0

###############################################################################
# Steering Controller Configuration
# Controls: front_left_steer_joint, front_right_steer_joint
# Interface: Position (radians)
# Range: -0.6 to 0.6 rad (approximately +/- 34 degrees)
###############################################################################
steering_controller:
  ros__parameters:
    type: forward_command_controller/ForwardCommandController
    joints:
      - front_left_steer_joint
      - front_right_steer_joint
    interface_name: position

###############################################################################
# Throttle Controller Configuration
# Controls: rear_left_wheel_joint, rear_right_wheel_joint
# Interface: Velocity (rad/s)
# Note: Positive = forward, Negative = reverse
###############################################################################
throttle_controller:
  ros__parameters:
    type: forward_command_controller/ForwardCommandController
    joints:
      - rear_left_wheel_joint
      - rear_right_wheel_joint
    interface_name: velocity

###############################################################################
# Brake Controller Configuration
# Controls: brake_joint
# Interface: Position (0.0 to 1.0)
# 0.0 = no brake, 1.0 = full brake engagement
###############################################################################
brake_controller:
  ros__parameters:
    type: forward_command_controller/ForwardCommandController
    joints:
      - brake_joint
    interface_name: position
